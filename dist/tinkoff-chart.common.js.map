{"version":3,"sources":["webpack:///webpack/bootstrap b9659f4b63e4147efe4a","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./src/tinkoff-chart.jsx"],"names":["TinkoffChart","props","view","padding","yScaleWidth","xScaleHeight","scale","linear","domain","range","start","end","_domain","_range","value","result","yScale","height","yScaleElements","labelValue","y","push","width","xScale","months","xScaleElements","monthIndex","length","x","max","Math","apply","data","prices","map","p","min","priceValues","price","priceLabelCoords","index","join","year","chart","getChart","Component","module","exports"],"mappings":"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","file":"tinkoff-chart.common.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b9659f4b63e4147efe4a","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0","import React from \"react\";\n\n\nclass TinkoffChart extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.view = {\n            padding: 20,\n            yScaleWidth: 30,\n            xScaleHeight: 60\n        };\n\n        this.scale = {\n            linear: () => {\n                return {\n                    domain: this.domain,\n                    range: this.range\n                }\n            }\n        };\n    }\n\n    domain(start, end) {\n        this._domain = {\n            start: start,\n            end: end\n        };\n\n        return this;\n    }\n\n    range(start, end) {\n        this._range = {\n            start: start,\n            end: end\n        };\n\n        return (value) => {\n            let result = (this._range.end - this._range.start) / (this._domain.end - this._domain.start) * value;\n\n            return this._range.start + result;\n        };\n    }\n\n    getYScale() {\n        const yScale = this.scale.linear().domain(0, 100).range(this.props.height - this.view.xScaleHeight - this.view.padding, this.view.padding + 10);\n\n        let yScaleElements = [];\n        for (let labelValue = 0; labelValue <= 100; labelValue += 20) {\n            let y = yScale(labelValue);\n\n            yScaleElements.push(\n                <g key={labelValue}>\n                    <text x={this.view.padding + this.view.yScaleWidth} y={y} className=\"tinkoff-chart-label\" textAnchor=\"end\">\n                        {labelValue}\n                    </text>\n\n                    <line x1={this.view.padding + this.view.yScaleWidth + 10} x2={this.props.width - this.view.padding}\n                          y1={y} y2={y} className=\"tinkoff-chart-line\">\n                    </line>\n                </g>\n            );\n        }\n\n        return yScaleElements;\n    }\n\n    getXScale() {\n        let xScale = this.scale.linear().domain(0, 12).range(this.view.padding + this.view.yScaleWidth + 40, this.props.width - this.view.padding);\n        let months = [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"];\n\n        let xScaleElements = [];\n        for (let monthIndex = 0; monthIndex < months.length; monthIndex++) {\n            let x = xScale(monthIndex);\n\n            xScaleElements.push(\n                <text key={monthIndex} x={x} y={this.props.height - this.view.padding - this.view.xScaleHeight + 30} className=\"tinkoff-chart-label\">\n                    {months[monthIndex]}\n                </text>\n            );\n        }\n\n        return xScaleElements;\n    }\n\n    getChart() {\n        let max = Math.max.apply(null, this.props.data.prices.map((p) => p.value));\n        let min = Math.min.apply(null, this.props.data.prices.map((p) => p.value));\n\n        const xScale = this.scale.linear().domain(0, this.props.data.prices.length).range(this.view.padding + this.view.yScaleWidth + 40, this.props.width - this.view.padding),\n              yScale = this.scale.linear().domain(0, 100).range(this.props.height - this.view.xScaleHeight - this.view.padding, this.view.padding + 10);\n\n        const priceValues = this.props.data.prices.map((price) => price.value);\n\n        const priceLabelCoords = priceValues.map((value, index) => {\n            return `${xScale(index)},${yScale(value)}`\n        });\n\n        return (\n            <polyline points={priceLabelCoords.join(\" \")} className=\"tinkoff-chart-curve\"></polyline>\n        );\n    }\n\n    getYearLabel() {\n        return (\n            <text x={this.view.padding + this.view.yScaleWidth + 40} y={this.props.height - this.view.padding + 10} className=\"tinkoff-chart-label tinkoff-chart-year\">\n                {this.props.data.year}\n            </text>\n        );\n    }\n\n    render() {\n        // const yScale = this.getYScale(),\n        //       xScale = this.getXScale(),\n           const   chart = this.getChart();\n              // yearLabel = this.getYearLabel();\n\n        return (\n            <div className=\"tinkoff-chart\">\n                <svg width={this.props.width} height={this.props.height}>\n                    {/*{yScale}*/}\n                    {/*{xScale}*/}\n                    {/*{yearLabel}*/}\n\n                    {chart}\n                </svg>\n            </div>\n        );\n    }\n}\n\nmodule.exports = TinkoffChart;\n\n\n// WEBPACK FOOTER //\n// ./src/tinkoff-chart.jsx"],"sourceRoot":""}