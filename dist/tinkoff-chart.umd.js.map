{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c421ad0f0d24f9bd4aaa","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///./src/tinkoff-chart.jsx"],"names":["TinkoffChart","props","state","focusedValue","points","view","padding","yScaleWidth","xScaleHeight","scale","linear","domain","range","start","end","_domain","_range","value","result","yScale","height","yScaleElements","labelValue","y","push","width","xScale","months","xScaleElements","monthIndex","length","x","getDaysInYear","stock","year","priceLabelCoords","prices","map","price","id","getNumberOfDay","date","i","setTimeout","setState","join","isLeapYear","yearStart","Date","dateDiff","oneDay","Math","floor","event","chartBounds","refs","fadilSvg","getBoundingClientRect","cursorXPosition","pageX","left","window","scrollX","deltas","priceLabel","abs","f","min","apply","index","indexOf","nextProps","nextState","setInterval","prevState","console","log","getYScale","getXScale","chart","getChartNewTest","focusElement","getFocusElement","yearLabel","getYearLabel","handleMouseMove","bind","Component","module","exports"],"mappings":"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","file":"tinkoff-chart.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"TinkoffChart\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"TinkoffChart\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c421ad0f0d24f9bd4aaa","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0","import React from \"react\";\n\n\nclass TinkoffChart extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            focusedValue: null,\n            points: []\n        };\n\n        this.view = {\n            padding: 20,\n            yScaleWidth: 30,\n            xScaleHeight: 60\n        };\n\n        this.scale = {\n            linear: () => {\n                return {\n                    domain: this.domain,\n                    range: this.range\n                }\n            }\n        };\n    }\n\n    domain(start, end) {\n        this._domain = {\n            start: start,\n            end: end\n        };\n\n        return this;\n    }\n\n    range(start, end) {\n        this._range = {\n            start: start,\n            end: end\n        };\n\n        return (value) => {\n            let result = (this._range.end - this._range.start) / (this._domain.end - this._domain.start) * value;\n\n            return this._range.start + result;\n        };\n    }\n\n    getYScale() {\n        const yScale = this.scale.linear().domain(0, 100).range(this.props.height - this.view.xScaleHeight - this.view.padding, this.view.padding + 10);\n\n        let yScaleElements = [];\n        for (let labelValue = 0; labelValue <= 100; labelValue += 20) {\n            let y = yScale(labelValue);\n\n            yScaleElements.push(\n                <g key={labelValue}>\n                    <text x={this.view.padding + this.view.yScaleWidth} y={y} className=\"tinkoff-chart-label\" textAnchor=\"end\">\n                        {labelValue}\n                    </text>\n\n                    <line x1={this.view.padding + this.view.yScaleWidth + 10} x2={this.props.width - this.view.padding}\n                          y1={y} y2={y} className=\"tinkoff-chart-line\">\n                    </line>\n                </g>\n            );\n        }\n\n        return yScaleElements;\n    }\n\n    getXScale() {\n        let xScale = this.scale.linear().domain(0, 12).range(this.view.padding + this.view.yScaleWidth + 40, this.props.width - this.view.padding);\n        let months = [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"];\n\n        let xScaleElements = [];\n        for (let monthIndex = 0; monthIndex < months.length; monthIndex++) {\n            let x = xScale(monthIndex);\n\n            xScaleElements.push(\n                <text key={monthIndex} x={x} y={this.props.height - this.view.padding - this.view.xScaleHeight + 30} className=\"tinkoff-chart-label\">\n                    {months[monthIndex]}\n                </text>\n            );\n        }\n\n        return xScaleElements;\n    }\n\n    getChart() {\n        const xScale = this.scale.linear().domain(0, this.getDaysInYear(this.props.stock.year)).range(this.view.padding + this.view.yScaleWidth + 40, this.props.width - this.view.padding),\n              yScale = this.scale.linear().domain(0, 100).range(this.props.height - this.view.xScaleHeight - this.view.padding, this.view.padding + 10);\n\n        this.priceLabelCoords = this.props.stock.prices.map((price) => {\n            return {\n                id: price.id,\n                value: price,\n                x: xScale(this.getNumberOfDay(price.date)),\n                y: yScale(price.value)\n            };\n        });\n\n        const points = this.props.stock.prices.map((price) => {\n            return `${xScale(this.getNumberOfDay(price.date))},${yScale(price.value)}`\n        });\n\n        debugger;\n        let i = 0;\n        setTimeout(() => {\n            debugger;\n            // debugger;\n            // this.setState((prevState) => {\n            //     points: prevState.points.push(points[i++]);\n            // })\n            this.setState({\n                points: points\n            });\n        }, 1000);\n\n        // return (\n        //     <polyline points={points.join(\" \")} className=\"tinkoff-chart-curve\" strokeLinejoin=\"round\"></polyline>\n        // );\n    }\n\n    getChartNewTest() {\n        return (\n            <polyline points={this.state.points.join(\" \")} className=\"tinkoff-chart-curve\" strokeLinejoin=\"round\"></polyline>\n        );\n    }\n\n    getDaysInYear(year) {\n        return this.isLeapYear(year) ? 366 : 365;\n    }\n\n    isLeapYear(year) {\n        return year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0);\n    }\n\n    getNumberOfDay(date) {\n        const yearStart = new Date(this.props.stock.year, 0, 1),\n              dateDiff = date - yearStart;\n\n        const oneDay = 1000 * 60 * 60 * 24;\n\n        return Math.floor(dateDiff / oneDay);\n    }\n\n    getYearLabel() {\n        return (\n            <text x={this.view.padding + this.view.yScaleWidth + 40} y={this.props.height - this.view.padding + 10} className=\"tinkoff-chart-label tinkoff-chart-year\">\n                {this.props.stock.year}\n            </text>\n        );\n    }\n\n    getFocusElement() {\n        if (!this.state.focusedValue) {\n            return;\n        }\n\n        let x = this.state.focusedValue.x,\n            y = this.state.focusedValue.y;\n\n        return (\n            <g>\n                <line x1={x} y1={y} x2={x} y2={this.props.height - this.view.padding - this.view.xScaleHeight} className=\"tinkoff-chart-focus-line\" strokeDasharray=\"6,8\"></line>\n                <circle cx={x} cy={y} r=\"6\" className=\"tinkoff-chart-focus-dot\"></circle>\n            </g>\n        );\n    }\n\n    handleMouseMove(event) {\n        let chartBounds = this.refs.fadilSvg.getBoundingClientRect(),\n            cursorXPosition = event.pageX - chartBounds.left + window.scrollX;\n\n        let deltas = this.priceLabelCoords.map((priceLabel) => {\n            return Math.abs(cursorXPosition - priceLabel.x);\n        });\n\n        let f = Math.min.apply(null, deltas);\n        let index = deltas.indexOf(f);\n\n        this.setState({\n            focusedValue: this.priceLabelCoords[index]\n        });\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (!this.state.focusedValue) {\n            return true;\n        }\n\n        if (this.state.focusedValue.id === nextState.focusedValue.id) {\n            return false;\n        }\n\n        return true;\n    }\n\n    componentDidMount() {\n        const xScale = this.scale.linear().domain(0, this.getDaysInYear(this.props.stock.year)).range(this.view.padding + this.view.yScaleWidth + 40, this.props.width - this.view.padding),\n            yScale = this.scale.linear().domain(0, 100).range(this.props.height - this.view.xScaleHeight - this.view.padding, this.view.padding + 10);\n\n        this.priceLabelCoords = this.props.stock.prices.map((price) => {\n            return {\n                id: price.id,\n                value: price,\n                x: xScale(this.getNumberOfDay(price.date)),\n                y: yScale(price.value)\n            };\n        });\n\n        const points = this.props.stock.prices.map((price) => {\n            return `${xScale(this.getNumberOfDay(price.date))},${yScale(price.value)}`\n        });\n\n        let i = 0;\n        setInterval(() => {\n            this.setState((prevState) => {\n                points: prevState.points.push(points[i++]);\n            })\n        }, 1000 / points.length);\n    }\n\n    render() {\n        console.log(\"render\");\n        const yScale = this.getYScale(),\n              xScale = this.getXScale(),\n              chart = this.getChartNewTest(),\n              focusElement = this.getFocusElement(),\n              yearLabel = this.getYearLabel();\n\n        return (\n            <div className=\"tinkoff-chart\">\n                <svg width={this.props.width} height={this.props.height} onMouseMove={this.handleMouseMove.bind(this)} ref=\"fadilSvg\">\n                    {yScale}\n                    {xScale}\n                    {yearLabel}\n\n                    {chart}\n                    {focusElement}\n\n                    <image xlinkHref=\"logo.png\" x=\"100\" y=\"50\" width=\"200px\" className=\"logo\"></image>\n                </svg>\n            </div>\n        );\n    }\n\n//     debounce: function(func, wait, immediate) {\n//     var timeout;\n//\n//     return function() {\n//         var context = this,\n//             args = arguments;\n//\n//         var later = function() {\n//             timeout = null;\n//\n//             if (!immediate) func.apply(context, args);\n//         };\n//\n//         var callNow = immediate && !timeout;\n//\n//         clearTimeout(timeout);\n//         timeout = setTimeout(later, wait);\n//\n//         if (callNow) func.apply(context, args);\n//     };\n// },\n}\n\nmodule.exports = TinkoffChart;\n\n\n// WEBPACK FOOTER //\n// ./src/tinkoff-chart.jsx"],"sourceRoot":""}